{
  "Version": "2019-10-30",
  "StartAction": "4d36a741-bc87-4035-b3fa-9c8390e687ac",
  "Metadata": {
    "entryPointPosition": {
      "x": 38.4,
      "y": 14.4
    },
    "ActionMetadata": {
      "4d36a741-bc87-4035-b3fa-9c8390e687ac": {
        "position": {
          "x": 192.8,
          "y": 48.8
        }
      },
      "7eefafd6-402f-4759-967c-b017ef5f3969": {
        "position": {
          "x": 149.6,
          "y": 244.8
        },
        "parameters": {
          "LambdaFunctionARN": {
            "displayName": "LAMBDA_ARN_PLACEHOLDER"
          }
        },
        "dynamicMetadata": {}
      },
      "68f1b094-8c1c-4231-879d-b106e53de281": {
        "position": {
          "x": 440.8,
          "y": 120.8
        },
        "conditions": [],
        "conditionMetadata": [
          {
            "id": "26830848-600a-4861-a857-8db51c240fef",
            "operator": {
              "name": "IsSet",
              "value": "IsSet",
              "shortDisplay": "Is Set"
            },
            "value": "$.External.top3"
          }
        ]
      },
      "7329da0c-3dcb-4661-a72e-95b6e841a4a4": {
        "position": {
          "x": 930.4,
          "y": 360.8
        }
      },
      "431f29e2-cca7-44e4-a449-90a38c2d327b": {
        "position": {
          "x": 926.4,
          "y": 565.6
        }
      },
      "96f62f74-1905-40cd-acca-714c0782717a": {
        "position": {
          "x": 1725.6,
          "y": 448
        }
      }
    },
    "Annotations": [],
    "name": "Vanity Number Generator Flow",
    "description": "Generates and speaks vanity phone numbers using AWS Lambda and DynamoDB",
    "type": "contactFlow",
    "status": "PUBLISHED",
    "hash": {}
  },
  "Actions": [
    {
      "Parameters": {
        "Text": "Hello! I'll generate vanity phone numbers for you. Please wait while I process your number."
      },
      "Identifier": "4d36a741-bc87-4035-b3fa-9c8390e687ac",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "7eefafd6-402f-4759-967c-b017ef5f3969"
      }
    },
    {
      "Parameters": {
        "LambdaFunctionARN": "LAMBDA_ARN_PLACEHOLDER",
        "InvocationTimeLimitSeconds": "8",
        "InvocationType": "SYNCHRONOUS",
        "ResponseValidation": {
          "ResponseType": "STRING_MAP"
        }
      },
      "Identifier": "7eefafd6-402f-4759-967c-b017ef5f3969",
      "Type": "InvokeLambdaFunction",
      "Transitions": {
        "NextAction": "68f1b094-8c1c-4231-879d-b106e53de281",
        "Errors": [
          {
            "NextAction": "431f29e2-cca7-44e4-a449-90a38c2d327b",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Parameters": {
        "ComparisonValue": "$.External.top3"
      },
      "Identifier": "68f1b094-8c1c-4231-879d-b106e53de281",
      "Type": "Compare",
      "Transitions": {
        "NextAction": "7329da0c-3dcb-4661-a72e-95b6e841a4a4",
        "Conditions": [
          {
            "NextAction": "7329da0c-3dcb-4661-a72e-95b6e841a4a4",
            "Condition": {
              "Operator": "IsSet",
              "Operands": []
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "431f29e2-cca7-44e4-a449-90a38c2d327b",
            "ErrorType": "NoMatchingCondition"
          }
        ]
      }
    },
    {
      "Parameters": {
        "Text": "Your vanity numbers are: $.External.top3[0], $.External.top3[1], and $.External.top3[2]. Thank you for calling!"
      },
      "Identifier": "7329da0c-3dcb-4661-a72e-95b6e841a4a4",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "96f62f74-1905-40cd-acca-714c0782717a"
      }
    },
    {
      "Parameters": {
        "Text": "I'm sorry, something went wrong while generating your vanity numbers. Please call back later."
      },
      "Identifier": "431f29e2-cca7-44e4-a449-90a38c2d327b",
      "Type": "MessageParticipant",
      "Transitions": {
        "NextAction": "96f62f74-1905-40cd-acca-714c0782717a"
      }
    },
    {
      "Parameters": {},
      "Identifier": "96f62f74-1905-40cd-acca-714c0782717a",
      "Type": "DisconnectParticipant",
      "Transitions": {}
    }
  ]
}