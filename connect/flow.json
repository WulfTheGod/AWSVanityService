{
  "Version": "2019-10-30",
  "StartAction": "greeting",
  "Actions": [
    {
      "Identifier": "greeting",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Hello! I'll generate vanity phone numbers for you."
      },
      "Transitions": {
        "NextAction": "invoke-lambda"
      }
    },
    {
      "Identifier": "invoke-lambda",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "FunctionArn": "LAMBDA_ARN_PLACEHOLDER",
        "InvocationTimeLimitSeconds": 8
      },
      "Transitions": {
        "NextAction": "speak-results",
        "Errors": [
          {
            "NextAction": "error-handler",
            "ErrorType": "NoMatchingError"
          }
        ]
      }
    },
    {
      "Identifier": "speak-results",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Your vanity numbers are: $.External.top3[0], $.External.top3[1], and $.External.top3[2]. Thank you!"
      },
      "Transitions": {
        "NextAction": "end-flow"
      }
    },
    {
      "Identifier": "error-handler",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "I'm sorry, something went wrong. Please call back later."
      },
      "Transitions": {
        "NextAction": "end-flow"
      }
    },
    {
      "Identifier": "end-flow",
      "Type": "DisconnectParticipant",
      "Parameters": {}
    }
  ]
}